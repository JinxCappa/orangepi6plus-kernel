@@ -1027,8 +1027,14 @@
 		return true;
 	}
 
-	status = acpi_setup_gpe_for_wake(device->handle, wakeup->gpe_device,
-					 wakeup->gpe_number);
+	if (!acpi_gbl_reduced_hardware) {
+		status = acpi_setup_gpe_for_wake(device->handle, wakeup->gpe_device,
+						 wakeup->gpe_number);
+	} else {
+		device_set_wakeup_capable(&device->dev, true);
+		status = AE_OK;
+	}
+
 	return ACPI_SUCCESS(status);
 }
 
