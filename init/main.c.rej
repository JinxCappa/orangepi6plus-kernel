@@ -113,6 +113,9 @@
 #include <trace/events/initcall.h>
 
 #include <kunit/test.h>
+#ifdef CONFIG_PLAT_BOOT_TIME
+#include <linux/soc/cix/hw_boottime.h>
+#endif
 
 static int kernel_init(void *);
 
@@ -1278,7 +1281,11 @@
 		return -EPERM;
 
 	do_trace_initcall_start(fn);
+#ifdef CONFIG_PLAT_BOOT_TIME
+	ret = do_boottime_initcall(fn);
+#else
 	ret = fn();
+#endif
 	do_trace_initcall_finish(fn, ret);
 
 	msgbuf[0] = 0;
@@ -1502,6 +1509,10 @@
 
 	do_sysctl_args();
 
+#ifdef CONFIG_PLAT_BOOT_TIME
+	boot_record("[INFOR] Kernel_init_done");
+#endif
+
 	if (ramdisk_execute_command) {
 		ret = run_init_process(ramdisk_execute_command);
 		if (!ret)
